<!DOCTYPE html>
<html>
    <head>
        <title>Test runner back office</title>
        <style>
            body {
                font-family: sans-serif;
                margin: 0;
                color: #444;
            }

            .meep-meep {
                color: rgb(253, 253, 198);
            }

            .button {
                display: inline-block;
                background: #5362b9;
                color: white;
                text-decoration: none;
                text-align: center;
                cursor: pointer;
                border: 0;
                font-size: 14px;
                line-height: 36px;
                padding: 0 12px 0 12px;
                border-radius: 3px;
            }

            .objective-item {
                display: inline-block;
                width: 200px;
                text-align: center;
                vertical-align: top;
                font-size: 14px;
            }

            .form-label {
                text-align: right;
                line-height: 23px;
                font-size: 14px;
            }

            .label-group {
                display: inline-block;
                vertical-align: baseline;
            }

            .status-pending,
            .status-failure,
            .status-success {
                color: #444;
                line-height: 32px;
                vertical-align: middle;
                border-radius: 3px;
            }
            
            .status-pending {
                background: rgb(253, 223, 187);
            }

            .status-failure {
                background: rgb(255, 137, 137);
            }

            .status-success {
                background: rgb(173, 246, 173);
            }

            .arrow {
                display: inline-block;
                width: 14px;
                height: 14px;
                vertical-align: middle;

                background: url('/static/images/right-arrow.png');
            }

            .results-header {
                margin-bottom: 2px;
            }

            .results-header,
            .results-line {
                line-height: 36px;
            }
            
            .results-header,
            .section-title {
                color: #444;
                background: rgb(230, 219, 219);
                line-height: 36px;
                font-size: 14px;
            }

            .section-title {
                margin-top: 20px;
                padding-left: 10px;
            }

            .add-objective {
                padding: 10px;
            }

            .tag {
                padding: 9px;
                border-radius: 3px;
                background: rgba(0, 0, 0, 0.1);
            }

            .name-field {
                font-weight: bold;
            }

            .create-objective-field {
                line-height: 14px;
                font-size: 14px;
                width: 300px;
                border: 2px solid transparent;
                color: #5362b9;
            }

            .create-objective-field:focus {
                border: 2px solid #eee;
                padding-left: 1px;
                outline: none;
            }

            .create-objective-field::-webkit-input-placeholder {
                color: #ddd;
                font-weight: normal;
                padding-top: 2px;
            }

            .create-objective-field:-moz-placeholder {
                color: #ddd;
                font-weight: normal;
                padding-top: 2px;
            }

            .create-objective-field::-moz-placeholder {
                color: #ddd;
                font-weight: normal;
                padding-top: 2px;
            }
            
            .create-objective-field:-ms-input-placeholder {
                color: #ddd;
                font-weight: normal;
                padding-top: 2px;
            }

            .title {
                padding-left: 10px;
                line-height: 36px;
                color: white;
                background: black;
                font-size: 17px;
            }
        </style>
    </head>
    <body>
        <div class="title"><span class="meep-meep">Meep-meep</span> - <b>Test runner back office</b></div>
<% if(objectives.length) { %>
        <div class="results-header">
            <div class="objective-item">
                Name
            </div>
            <div class="objective-item">
                Status
            </div>
            <div class="objective-item">
                Definition
            </div>
        </div>
<% } %>
<% objectives.forEach(function(objective) { %>
            <div class="results-line">
                <div class="objective-item">
                    <%= objective.name %>
                </div>
                <div class="objective-item status-<%= objective.status.toLowerCase() %>">
                    <%= objective.status %>
                </div>
                <div class="objective-item">
                    <% objective.definition.forEach(function(constraint) { %>
                    <div>
                        <%- constraint[0].split(',').map(function(tag) {return '<span class="tag">' + tag.trim() + '</span> '}).join('') %>
                        <span class="arrow"></span>
                        <span>
                        <%- constraint[1].split(',').map(function(tag) {return '<span class="tag">' + tag.trim() + '</span> '}).join('') %>
                        </span>
                    </div>
                    <% }); %>
                </div>
            </div>
<% }); %>
        </div>
            <div class="section-title">Create a new test set</div>
        <form class="add-objective" method="POST" action="<%= backOfficeUrl %>objectives">
            <div class="label-group">
                <div class="label-group">
                    <div class="form-label">Name :</div>
                    <div class="form-label">Test tags :</div>
                    <div class="form-label">Platform tags :</div>
                </div>
                <div class="label-group">
                    <input class="create-objective-field name-field" type="text" name="name" placeholder="Any alphanumeric value" required/>
                    <br/>

                    <input class="create-objective-field" type="text" name="test-tags" placeholder="Coma-separated tags" required/>
                    <br/>

                    <input class="create-objective-field" type="text" name="platform-tags" placeholder="Coma-separated tags or 'any'" required/>
                </div>
                </div>
            <br/>
            <br/>
            <input type="submit" class="button" id="create-objective" value="Create"/>
        </form>
    </body>
</html>
